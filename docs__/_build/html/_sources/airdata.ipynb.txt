{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "f92e2a0d",
   "metadata": {},
   "source": [
    "# **Setup**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "0582e894",
   "metadata": {},
   "outputs": [],
   "source": [
    "import edmt\n",
    "import pandas as pd"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "c752c081",
   "metadata": {},
   "source": [
    "# **Config**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "5045fb6e",
   "metadata": {},
   "outputs": [],
   "source": [
    "config = {\n",
    "   \"root_dir\":\"Ecoscope-Outputs/Drones/Patrols/\",\n",
    "   \"since_filter\":\"2025-07-01 00:00:00\",\n",
    "   \"until_filter\":\"2025-07-31 00:00:00\",\n",
    "   \"groupers\":[\n",
    "      {\n",
    "         \"grouper_func\":\"add_temporal_index\",\n",
    "         \"params\":{\n",
    "            \"index_name\":\"Month\",\n",
    "            \"time_col\":\"checktime\",\n",
    "            \"directive\":\"%B\"\n",
    "         }\n",
    "      }\n",
    "   ],\n",
    "   \"map_props\":{\n",
    "      \"title\":\"MEP Drones Tracks\",\n",
    "      \"general_props\":{\n",
    "         \"tiles\":\"\",\n",
    "         \"static\":True,\n",
    "         \"height\":700,\n",
    "         \"width\":971,\n",
    "         \"search_control\":False\n",
    "      },\n",
    "      \"title_props\":{\n",
    "         \"font_size\":\"18px\",\n",
    "         \"position\":\"upper\"\n",
    "      },\n",
    "      \"north_arrow_props\":{\n",
    "         \"position\":\"topleft\",\n",
    "         \"scale\":0.8\n",
    "      },\n",
    "      \"tile_layers\":[\n",
    "         {\n",
    "            \"url\":\"https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}\",\n",
    "            \"opacity\":1.0,\n",
    "            \"name\":\"Esri\",\n",
    "            \"attribution\":\"Esri\"\n",
    "         },\n",
    "        #  {\n",
    "        #     \"url\":\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",\n",
    "        #     \"opacity\":1.0,\n",
    "        #     \"name\":\"Esri\",\n",
    "        #     \"attribution\":\"Esri\"\n",
    "        #  }\n",
    "      ],\n",
    "      \"gdf\":{\n",
    "         \"column\":\"drone_name\",\n",
    "         \"cmap\":\"RdYlGn_r\",\n",
    "      }\n",
    "   }\n",
    "}"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "bfa0900f",
   "metadata": {},
   "source": [
    "# **Global Filters**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "112b12b1",
   "metadata": {},
   "outputs": [],
   "source": [
    "pd.set_option('display.max_columns', None)\n",
    "\n",
    "# Timespan\n",
    "since_filter = config.get(\"since_filter\")\n",
    "until_filter = config.get(\"until_filter\")\n",
    "since = pd.Timestamp(since_filter).strftime(\"%B %Y\")\n",
    "until = pd.Timestamp(until_filter).strftime(\"%B %Y\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "6d158c63",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'July 2025'"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "if since == until:\n",
    "  period = since\n",
    "else:\n",
    "  period = f\"{since} to {until}\"\n",
    "\n",
    "period"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "f8e70483",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "id": "7697ef40",
   "metadata": {},
   "source": [
    "# **Authentication**"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "429bca61",
   "metadata": {},
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "EDMT_QHAE",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.12.11"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
